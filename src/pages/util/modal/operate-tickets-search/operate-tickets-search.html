<!--
  Generated template for the OperateTicketsSearchPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content>
  <div class="common-search-container">
    <div class="common-search">
      <div class="select-picker border-bottom">
        <div class="query-label">快速查询</div>
        <ion-grid>
          <ion-row>
            <ion-col col-4 *ngFor="let item of aQueryFlag">
              <div
                class="select-option"
                [ngClass]="{'active-option': queryFlag===item.first}"
                (click)="selectQuickSearch(item.first)"
              >
                {{item.second}}
              </div></ion-col
            >
          </ion-row>
        </ion-grid>
      </div>
      <div class="input-picker border-bottom">
        <div class="query-label">操作票单号</div>
        <ion-input type="text" value="" [(ngModel)]="ticketCode"></ion-input>
      </div>
      <div class="button-picker border-bottom">
        <div class="query-label">电站</div>
        <button ion-button round small color="light" (click)="selectStation()">
          {{(station?.title)||'未选择'}}
          <!-- <img
                        *ngIf="station"
                        (click)="clearStation($event)"
                        class="clear-icon"
                        src="assets/imgs/buttons/delete.png"
                        alt=""
                    /> -->
          <ion-icon
            *ngIf="station"
            (click)="clearStation($event)"
            class="clear-icon"
            name="delete"
          ></ion-icon>
        </button>
      </div>
      <div class="time-picker border-bottom">
        <div class="query-label">操作时间</div>
        <ion-datetime
          displayFormat="YYYY-MM-DD"
          pickerFormat="YYYY/MM/DD"
          doneText="确定"
          [(ngModel)]="startOperateTime"
          [pickerOptions]="customStartOperatePickerOptions"
        ></ion-datetime>
        <div class="line">-</div>
        <ion-datetime
          displayFormat="YYYY-MM-DD"
          pickerFormat="YYYY/MM/DD"
          doneText="确定"
          [pickerOptions]="customEndOperatePickerOptions"
          [(ngModel)]="endOperateTime"
        ></ion-datetime>
      </div>

      <div class="button-picker border-bottom">
        <div class="query-label">操作人</div>
        <button
          ion-button
          round
          small
          color="light"
          (click)="selectUser('executor')"
        >
          {{(executor?.realName)||'未选择'}}
          <!-- <img
                        *ngIf="executor"
                        (click)="clearUser($event,'executor')"
                        class="clear-icon"
                        src="assets/imgs/buttons/delete.png"
                        alt=""
                    /> -->
          <ion-icon
            *ngIf="executor"
            (click)="clearUser($event,'executor')"
            class="clear-icon"
            name="delete"
          ></ion-icon>
        </button>
      </div>
      <div class="button-picker">
        <div class="query-label">监护人</div>
        <button
          ion-button
          round
          small
          color="light"
          (click)="selectUser('supervisior')"
        >
          {{(supervisior?.realName)||'未选择'}}
          <!-- <img
            *ngIf="supervisior"
            (click)="clearUser($event,'supervisior')"
            class="clear-icon"
            src="assets/imgs/buttons/delete.png"
            alt=""
          /> -->
          <ion-icon
            *ngIf="supervisior"
            (click)="clearUser($event,'supervisior')"
            class="clear-icon"
            name="delete"
          ></ion-icon>
        </button>
      </div>
    </div>
    <ion-list>
      <ion-row class="fix-bottom">
        <ion-col col-6 text-center>
          <button
            ion-button
            round
            small
            class="reset-btn"
            color="light"
            (click)="reset()"
          >
            重置
          </button>
        </ion-col>
        <ion-col col-6 text-center>
          <button ion-button round small class="query-btn" (click)="ok()">
            查询
          </button>
        </ion-col>
      </ion-row>
    </ion-list>
  </div>
</ion-content>
